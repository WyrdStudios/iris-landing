function showError(e){const o=document.getElementById("errorMessage"),t=document.getElementById("errorText");o&&t&&(t.textContent=e,o.style.display="block",o.scrollIntoView({behavior:"smooth",block:"center"}))}function hideError(){const e=document.getElementById("errorMessage");e&&(e.style.display="none")}function submitWaitlistForm(e){e.preventDefault();const o=e.target,t=o.querySelector('input[name="fields[email]"]'),r=o.querySelector('input[name="fields[name]"]'),n=o.querySelector('select[name="fields[current_role]"]'),s=o.querySelectorAll('input[name="fields[pain_points][]"]:checked'),l=o.querySelector('select[name="fields[time_to_value]"]'),a=o.querySelector('select[name="fields[iris_use_frequency]"]'),i=o.querySelector('select[name="fields[feedback_frequency]"]');if(hideError(),!t.value||!t.value.includes("@"))return void showError("Oops! We need a valid email address to add you to the waitlist.");if(!r.value.trim())return void showError("We'd love to know your name! Please add it above.");if(!n.value)return void showError("Please let us know your current role so we can tailor Iris for you.");if(0===s.length)return void showError("Help us understand how Iris can best serve you by selecting at least one option.");if(!l.value)return void showError("Please share your time-to-value expectation for new tools.");if(!a.value)return void showError("Please let us know how likely you are to use Iris during Early Access.");if(!i.value)return void showError("Please tell us about your willingness to provide feedback during Early Access.");const c=o.querySelector('button[type="submit"]'),u=c.textContent;c.textContent="Joining...",c.disabled=!0;const d=Array.from(s).map(e=>e.value),m=new URLSearchParams;m.append("fields[email]",t.value),m.append("fields[name]",r.value),m.append("fields[current_role]",n.value),d.forEach(e=>m.append("fields[pain_points][]",e)),m.append("fields[time_to_value]",l.value),m.append("fields[iris_use_frequency]",a.value),m.append("fields[feedback_frequency]",i.value),m.append("ml-submit","1"),m.append("anticsrf","true"),console.log("Form data being sent:",m.toString()),fetch("https://assets.mailerlite.com/jsonp/1749703/forms/165352906992649259/subscribe",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:m.toString()}).then(e=>{if(console.log("Response status:",e.status),console.log("Response ok:",e.ok),e.ok){const e=o.closest(".ml-form-embedBody"),t=e.closest(".ml-form-embedWrapper"),r=t.querySelector(".ml-form-successBody"),n=e.querySelector(".ml-form-formContent"),s=document.querySelector(".form-title"),l=document.querySelector(".form-subtitle");if(console.log("Form container:",e),console.log("Wrapper:",t),console.log("Success message:",r),console.log("Form content:",n),console.log("Page heading:",s),console.log("Page description:",l),r&&n){r.style.display="block",n.style.display="none";const o=e.querySelector(".ml-form-embedSubmit");o&&(o.style.display="none"),s&&(s.style.display="none"),l&&(l.style.display="none"),console.log("Success message shown, form, button, and page elements hidden"),r.scrollIntoView({behavior:"smooth",block:"center"})}else console.error("Success message or form content element not found")}else console.error("Response not ok:",e.status,e.statusText),showError("Something went wrong on our end. Please try again in a moment.");c.textContent=u,c.disabled=!1}).catch(e=>{console.error("Waitlist submission error:",e),showError("We're having trouble connecting. Please check your internet connection and try again."),c.textContent=u,c.disabled=!1})}