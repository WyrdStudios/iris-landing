function showError(e){const o=document.getElementById("errorMessage"),t=document.getElementById("errorText");o&&t&&(t.textContent=e,o.style.display="block",o.scrollIntoView({behavior:"smooth",block:"center"}))}function hideError(){const e=document.getElementById("errorMessage");e&&(e.style.display="none")}function submitWaitlistForm(e){e.preventDefault();const o=e.target,t=o.querySelector('input[name="fields[email]"]'),n=o.querySelector('input[name="fields[name]"]'),r=o.querySelector('input[name="fields[current_role]"]'),s=o.querySelector('select[name="fields[feedback_frequency]"]');if(hideError(),!t.value||!t.value.includes("@"))return void showError("Oops! We need a valid email address to add you to the waitlist.");if(!n.value.trim())return void showError("We'd love to know your name! Please add it above.");if(!r.value.trim())return void showError("Please tell us what you do so we can tailor Iris for you.");if(!s.value)return void showError("Please tell us about your willingness to provide feedback during Early Access.");const l=o.querySelector('button[type="submit"]'),a=l.textContent;l.textContent="Joining...",l.disabled=!0;const i=new URLSearchParams;i.append("fields[email]",t.value),i.append("fields[name]",n.value),i.append("fields[current_role]",r.value),i.append("fields[feedback_frequency]",s.value),i.append("ml-submit","1"),i.append("anticsrf","true"),console.log("Form data being sent:",i.toString()),fetch("https://assets.mailerlite.com/jsonp/1749703/forms/165352906992649259/subscribe",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i.toString()}).then(e=>{if(console.log("Response status:",e.status),console.log("Response ok:",e.ok),e.ok){const e=o.closest(".ml-form-embedBody"),t=e.closest(".ml-form-embedWrapper"),n=t.querySelector(".ml-form-successBody"),r=e.querySelector(".ml-form-formContent"),s=document.querySelector(".form-title"),l=document.querySelector(".form-subtitle");if(console.log("Form container:",e),console.log("Wrapper:",t),console.log("Success message:",n),console.log("Form content:",r),console.log("Page heading:",s),console.log("Page description:",l),n&&r){n.style.display="block",r.style.display="none";const o=e.querySelector(".ml-form-embedSubmit");o&&(o.style.display="none"),s&&(s.style.display="none"),l&&(l.style.display="none"),console.log("Success message shown, form, button, and page elements hidden"),n.scrollIntoView({behavior:"smooth",block:"center"})}else console.error("Success message or form content element not found")}else console.error("Response not ok:",e.status,e.statusText),showError("Something went wrong on our end. Please try again in a moment.");l.textContent=a,l.disabled=!1}).catch(e=>{console.error("Waitlist submission error:",e),showError("We're having trouble connecting. Please check your internet connection and try again."),l.textContent=a,l.disabled=!1})}